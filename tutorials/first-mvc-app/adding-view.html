

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Adding a view &mdash; ASP.NET  documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/custom.css?v=6" type="text/css" />
  

  
    <link rel="top" title="ASP.NET  documentation" href="../../index.html"/>
        <link rel="up" title="Building your first ASP.NET Core MVC app with Visual Studio" href="index.html"/>
        <link rel="next" title="Adding a model" href="adding-model.html"/>
        <link rel="prev" title="Adding a controller" href="adding-controller.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> ASP.NET
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.asp.net/projects/api">API</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../your-first-mac-aspnet.html">Your First ASP.NET Core Application on a Mac Using Visual Studio Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../first-web-api.html">Building Your First Web API with ASP.NET Core MVC and Visual Studio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../publish-to-azure-webapp-using-vs.html">Deploy an ASP.NET Core web app to Azure using Visual Studio</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Building your first ASP.NET Core MVC app with Visual Studio</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="start-mvc.html">Getting started with ASP.NET Core MVC and Visual Studio</a></li>
<li class="toctree-l3"><a class="reference internal" href="adding-controller.html">Adding a controller</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Adding a view</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="adding-model.html">Adding a model</a></li>
<li class="toctree-l3"><a class="reference internal" href="working-with-sql.html">Working with SQL Server LocalDB</a></li>
<li class="toctree-l3"><a class="reference internal" href="controller-methods-views.html">Controller methods and views</a></li>
<li class="toctree-l3"><a class="reference internal" href="search.html">Adding Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="new-field.html">Adding a New Field</a></li>
<li class="toctree-l3"><a class="reference internal" href="validation.html">Adding Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="details.html">Examining the Details and Delete methods</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../nano-server.html">ASP.NET Core on Nano Server</a></li>
<li class="toctree-l2"><a class="reference external" href="https://azure.microsoft.com/en-us/documentation/articles/service-fabric-add-a-web-frontend/">ASP.NET Core and Azure Service Fabric</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../mobile/native-mobile-backend.html">ðŸ”§ Creating Backend Services for Native Mobile Applications</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../conceptual-overview/index.html">Conceptual Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fundamentals/index.html">Fundamentals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mvc/index.html">MVC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testing/index.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../data/index.html">Working with Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../client-side/index.html">Client-Side Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mobile/index.html">Mobile</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../publishing/index.html">Publishing and Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hosting/index.html">Guidance for Hosting Providers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security/index.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../performance/index.html">Performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../migration/index.html">Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">Contribute</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">ASP.NET</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Tutorials</a> &raquo;</li>
      
          <li><a href="index.html">Building your first ASP.NET Core MVC app with Visual Studio</a> &raquo;</li>
      
    <li>Adding a view</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/tutorials/first-mvc-app/adding-view.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
  <div class="section" id="adding-a-view">
<h1>Adding a view<a class="headerlink" href="#adding-a-view" title="Permalink to this headline">Â¶</a></h1>
<p>By <a class="reference external" href="https://twitter.com/RickAndMSFT">Rick Anderson</a></p>
<p>In this section you&#8217;re going to modify the <code class="docutils literal"><span class="pre">HelloWorldController</span></code> class to use Razor view template files to cleanly encapsulate the process of generating HTML responses to a client.</p>
<p>You&#8217;ll create a view template file using the Razor view engine. Razor-based view templates have a <em>.cshtml</em> file extension, and provide an elegant way to create HTML output using C#. Razor minimizes the number of characters and keystrokes required when writing a view template, and enables a fast, fluid coding workflow.</p>
<p>Currently the <code class="docutils literal"><span class="pre">Index</span></code> method returns a string with a message that is hard-coded in the controller class. Change the <code class="docutils literal"><span class="pre">Index</span></code> method to return a View object, as shown in the following code:</p>
<div class="highlight-c#"><div class="highlight"><pre><span></span><span class="k">public</span> <span class="n">IActionResult</span> <span class="nf">Index</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="nf">View</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">Index</span></code> method above uses a view template to generate an HTML response to the browser. Controller methods (also known as <a class="reference external" href="http://rachelappel.com/asp.net-mvc-actionresults-explained">action methods</a>), such as the <code class="docutils literal"><span class="pre">Index</span></code> method above, generally return an <code class="docutils literal"><span class="pre">IActionResult</span></code> (or a class derived from <code class="docutils literal"><span class="pre">ActionResult</span></code>), not primitive types like string.</p>
<ul class="simple">
<li>Right click on the <em>Views</em> folder, and then <strong>Add &gt; New Folder</strong> and name the folder <em>HelloWorld</em>.</li>
</ul>
<img alt="../../_images/add_folder.png" src="../../_images/add_folder.png" />
<ul class="simple">
<li>Right click on the <em>Views/HelloWorld</em> folder, and then <strong>Add &gt; New Item</strong>.</li>
<li>In the <strong>Add New Item - MvcMovie</strong> dialog<ul>
<li>In the search box in the upper-right, enter <em>view</em></li>
<li>Tap <strong>MVC View Page</strong></li>
<li>In the <strong>Name</strong> box, keep the default <em>Index.cshtml</em></li>
<li>Tap <strong>Add</strong></li>
</ul>
</li>
</ul>
<img alt="../../_images/add_view.png" src="../../_images/add_view.png" />
<p>Replace the contents of the <em>Views/HelloWorld/Index.cshtml</em> Razor view file with the following:</p>
<div class="highlight-HTML"><div class="highlight"><pre><span></span>@{
    ViewData[&quot;Title&quot;] = &quot;Index&quot;;
}

<span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>Index<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Hello from our View Template!<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>Navigate to <code class="docutils literal"><span class="pre">http://localhost:xxxx/HelloWorld</span></code>. The <code class="docutils literal"><span class="pre">Index</span></code> method in the <code class="docutils literal"><span class="pre">HelloWorldController</span></code> didn&#8217;t do much work; it simply ran the statement <code class="docutils literal"><span class="pre">return</span> <span class="pre">View();</span></code>, which specified that the method should use a view template file to render a response to the browser. Because you didn&#8217;t explicitly specify the name of the view template file to use, MVC defaulted to using the <em>Index.cshtml</em> view file in the <em>/Views/HelloWorld</em> folder. The image below shows the string &#8220;Hello from our View Template!&#8221; hard-coded in the view.</p>
<img alt="../../_images/hell_template.png" src="../../_images/hell_template.png" />
<p>If your browser window is small (for example on a mobile device), you might need to toggle (tap) the <a class="reference external" href="http://getbootstrap.com/components/#navbar">Bootstrap navigation button</a> in the upper right to see the to the <strong>Home</strong>, <strong>About</strong>, <strong>Contact</strong>, <strong>Register</strong> and <strong>Log in</strong> links.</p>
<img alt="../../_images/1.png" src="../../_images/1.png" />
<div class="section" id="changing-views-and-layout-pages">
<h2>Changing views and layout pages<a class="headerlink" href="#changing-views-and-layout-pages" title="Permalink to this headline">Â¶</a></h2>
<p>Tap on the menu links (<strong>MvcMovie</strong>, <strong>Home</strong>, <strong>About</strong>). Each page shows the same menu layout. The menu layout is implemented in the <em>Views/Shared/_Layout.cshtml</em> file. Open the <em>Views/Shared/_Layout.cshtml</em> file.</p>
<p><a class="reference internal" href="../../mvc/views/layout.html"><span class="doc">Layout</span></a> templates allow you to specify the HTML container layout of your site in one place and then apply it across multiple pages in your site. Find the <code class="docutils literal"><span class="pre">&#64;RenderBody()</span></code> line. <code class="docutils literal"><span class="pre">RenderBody</span></code> is a placeholder where all the view-specific pages you create show up, &#8220;wrapped&#8221; in the layout page. For example, if you select the <strong>About</strong> link, the <strong>Views/Home/About.cshtml</strong> view is rendered inside the <code class="docutils literal"><span class="pre">RenderBody</span></code> method.</p>
<p>Change the contents of the title element. Change the anchor text in the layout template to &#8220;MVC Movie&#8221; and the controller from <code class="docutils literal"><span class="pre">Home</span></code> to <code class="docutils literal"><span class="pre">Movies</span></code> as highlighted below:</p>
<div class="highlight-HTML"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&quot;utf-8&quot;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;width=device-width, initial-scale=1.0&quot;</span> <span class="p">/&gt;</span>
<span class="hll">    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>@ViewData[&quot;Title&quot;] - Movie App<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
</span>
    <span class="p">&lt;</span><span class="nt">environment</span> <span class="na">names</span><span class="o">=</span><span class="s">&quot;Development&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;~/lib/bootstrap/dist/css/bootstrap.css&quot;</span> <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;~/css/site.css&quot;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nt">environment</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">environment</span> <span class="na">names</span><span class="o">=</span><span class="s">&quot;Staging,Production&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;https://ajax.aspnetcdn.com/ajax/bootstrap/3.3.6/css/bootstrap.min.css&quot;</span>
              <span class="na">asp-fallback-href</span><span class="o">=</span><span class="s">&quot;~/lib/bootstrap/dist/css/bootstrap.min.css&quot;</span>
              <span class="na">asp-fallback-test-class</span><span class="o">=</span><span class="s">&quot;sr-only&quot;</span> <span class="na">asp-fallback-test-property</span><span class="o">=</span><span class="s">&quot;position&quot;</span> <span class="na">asp-fallback-test-value</span><span class="o">=</span><span class="s">&quot;absolute&quot;</span> <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;~/css/site.min.css&quot;</span> <span class="na">asp-append-version</span><span class="o">=</span><span class="s">&quot;true&quot;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nt">environment</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;navbar navbar-inverse navbar-fixed-top&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;container&quot;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;navbar-header&quot;</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;button&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;navbar-toggle&quot;</span> <span class="na">data-toggle</span><span class="o">=</span><span class="s">&quot;collapse&quot;</span> <span class="na">data-target</span><span class="o">=</span><span class="s">&quot;.navbar-collapse&quot;</span><span class="p">&gt;</span>
                    <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;sr-only&quot;</span><span class="p">&gt;</span>Toggle navigation<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
                    <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;icon-bar&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
                    <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;icon-bar&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
                    <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;icon-bar&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
                <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="hll">                <span class="p">&lt;</span><span class="nt">a</span> <span class="na">asp-controller</span><span class="o">=</span><span class="s">&quot;Movies&quot;</span> <span class="na">asp-action</span><span class="o">=</span><span class="s">&quot;Index&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;navbar-brand&quot;</span><span class="p">&gt;</span>Mvc Movie<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span>            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;navbar-collapse collapse&quot;</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">ul</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;nav navbar-nav&quot;</span><span class="p">&gt;</span>
                    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">asp-controller</span><span class="o">=</span><span class="s">&quot;Home&quot;</span> <span class="na">asp-action</span><span class="o">=</span><span class="s">&quot;Index&quot;</span><span class="p">&gt;</span>Home<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
                    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">asp-controller</span><span class="o">=</span><span class="s">&quot;Home&quot;</span> <span class="na">asp-action</span><span class="o">=</span><span class="s">&quot;About&quot;</span><span class="p">&gt;</span>About<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
                    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">asp-controller</span><span class="o">=</span><span class="s">&quot;Home&quot;</span> <span class="na">asp-action</span><span class="o">=</span><span class="s">&quot;Contact&quot;</span><span class="p">&gt;</span>Contact<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
                <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
                @await Html.PartialAsync(&quot;_LoginPartial&quot;)
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;container body-content&quot;</span><span class="p">&gt;</span>
        @RenderBody()
        <span class="p">&lt;</span><span class="nt">hr</span> <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nt">footer</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="ni">&amp;copy;</span> 2016 - MvcMovie<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">footer</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">environment</span> <span class="na">names</span><span class="o">=</span><span class="s">&quot;Development&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;~/lib/jquery/dist/jquery.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;~/lib/bootstrap/dist/js/bootstrap.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;~/js/site.js&quot;</span> <span class="na">asp-append-version</span><span class="o">=</span><span class="s">&quot;true&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">environment</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">environment</span> <span class="na">names</span><span class="o">=</span><span class="s">&quot;Staging,Production&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://ajax.aspnetcdn.com/ajax/jquery/jquery-2.2.0.min.js&quot;</span>
                <span class="na">asp-fallback-src</span><span class="o">=</span><span class="s">&quot;~/lib/jquery/dist/jquery.min.js&quot;</span>
                <span class="na">asp-fallback-test</span><span class="o">=</span><span class="s">&quot;window.jQuery&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://ajax.aspnetcdn.com/ajax/bootstrap/3.3.6/bootstrap.min.js&quot;</span>
                <span class="na">asp-fallback-src</span><span class="o">=</span><span class="s">&quot;~/lib/bootstrap/dist/js/bootstrap.min.js&quot;</span>
                <span class="na">asp-fallback-test</span><span class="o">=</span><span class="s">&quot;window.jQuery &amp;&amp; window.jQuery.fn &amp;&amp; window.jQuery.fn.modal&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;~/js/site.min.js&quot;</span> <span class="na">asp-append-version</span><span class="o">=</span><span class="s">&quot;true&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">environment</span><span class="p">&gt;</span>

    @RenderSection(&quot;scripts&quot;, required: false)
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table></div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">We haven&#8217;t implemented the <code class="docutils literal"><span class="pre">Movies</span></code> controller yet, so if you click on that link, you&#8217;ll get a 404 (Not found) error.</p>
</div>
<p>Save your changes and tap the <strong>About</strong> link. Notice how each page displays the <strong>Mvc Movie</strong> link. We were able to make the change once in the layout template and have all pages on the site reflect the new link text and new title.</p>
<p>Examine the <em>Views/_ViewStart.cshtml</em> file:</p>
<div class="highlight-HTML"><div class="highlight"><pre><span></span>@{
    Layout = &quot;_Layout&quot;;
}
</pre></div>
</div>
<p>The <em>Views/_ViewStart.cshtml</em> file brings in the <em>Views/Shared/_Layout.cshtml</em> file to each view. You can use the <code class="docutils literal"><span class="pre">Layout</span></code> property to set a different layout view, or set it to <code class="docutils literal"><span class="pre">null</span></code> so no layout file will be used.</p>
<p>Now, let&#8217;s change the title of the <code class="docutils literal"><span class="pre">Index</span></code> view.</p>
<p>Open <em>Views/HelloWorld/Index.cshtml</em>. There are two places to make a change:</p>
<blockquote>
<div><ul class="simple">
<li>The text that appears in the title of the browser</li>
<li>The secondary header (<code class="docutils literal"><span class="pre">&lt;h2&gt;</span></code> element).</li>
</ul>
</div></blockquote>
<p>You&#8217;ll make them slightly different so you can see which bit of code changes which part of the app.</p>
<div class="highlight-HTML"><div class="highlight"><pre><span></span>@{
<span class="hll">    ViewData[&quot;Title&quot;] = &quot;Movie List&quot;;
</span>}

<span class="hll"><span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>My Movie List<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
</span>
<span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Hello from our View Template!<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">ViewData[&quot;Title&quot;]</span> <span class="pre">=</span> <span class="pre">&quot;Movie</span> <span class="pre">List&quot;;</span></code> in the code above sets the <code class="docutils literal"><span class="pre">Title</span></code> property of the <a class="reference external" href="https://docs.asp.net/projects/api/en/latest/autoapi/Microsoft/AspNetCore/Mvc/ViewFeatures/ViewDataDictionary/index.html">ViewDataDictionary</a> to &#8220;Movie List&#8221;. The <code class="docutils literal"><span class="pre">Title</span></code> property is used in the <code class="docutils literal"><span class="pre">&lt;title&gt;</span></code> HTML element in the layout page:</p>
<div class="highlight-HTML"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>@ViewData[&quot;Title&quot;] - Movie App<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>Save your change and refresh the page. Notice that the browser title, the primary heading, and the secondary headings have changed. (If you don&#8217;t see changes in the browser, you might be viewing cached content. Press Ctrl+F5 in your browser to force the response from the server to be loaded.) The browser title is created with <code class="docutils literal"><span class="pre">ViewData[&quot;Title&quot;]</span></code> we set in the <strong>Index.cshtml</strong> view template and the additional &#8220;- Movie App&#8221; added in the layout file.</p>
<p>Also notice how the content in the <em>Index.cshtml</em> view template was merged with the <em>Views/Shared/_Layout.cshtml</em> view template and a single HTML response was sent to the browser. Layout templates make it really easy to make changes that apply across all of the pages in your application. To learn more see <a class="reference internal" href="../../mvc/views/layout.html"><span class="doc">Layout</span></a>.</p>
<img alt="../../_images/hell3.png" src="../../_images/hell3.png" />
<p>Our little bit of &#8220;data&#8221; (in this case the &#8220;Hello from our View Template!&#8221; message) is hard-coded, though. The MVC application has a &#8220;V&#8221; (view) and you&#8217;ve got a &#8220;C&#8221; (controller), but no &#8220;M&#8221; (model) yet. Shortly, we&#8217;ll walk through how create a database and retrieve model data from it.</p>
</div>
<div class="section" id="passing-data-from-the-controller-to-the-view">
<h2>Passing Data from the Controller to the View<a class="headerlink" href="#passing-data-from-the-controller-to-the-view" title="Permalink to this headline">Â¶</a></h2>
<p>Before we go to a database and talk about models, though, let&#8217;s first talk about passing information from the controller to a view. Controller classes are invoked in response to an incoming URL request. A controller class is where you write the code that handles the incoming browser requests, retrieves data from a database, and ultimately decides what type of response to send back to the browser. View templates can then be used from a controller to generate and format an HTML response to the browser.</p>
<p>Controllers are responsible for providing whatever data or objects are required in order for a view template to render a response to the browser. A best practice: A view template should never perform business logic or interact with a database directly. Instead, a view template should work only with the data that&#8217;s provided to it by the controller. Maintaining this &#8220;separation of concerns&#8221; helps keep your code clean, testable and more maintainable.</p>
<p>Currently, the <code class="docutils literal"><span class="pre">Welcome</span></code> method in the <code class="docutils literal"><span class="pre">HelloWorldController</span></code> class takes a <code class="docutils literal"><span class="pre">name</span></code> and a <code class="docutils literal"><span class="pre">ID</span></code> parameter and then outputs the values directly to the browser. Rather than have the controller render this response as a string, letâ€™s change the controller to use a view template instead. The view template will generate a dynamic response, which means that you need to pass appropriate bits of data from the controller to the view in order to generate the response. You can do this by having the controller put the dynamic data (parameters) that the view template needs in a <code class="docutils literal"><span class="pre">ViewData</span></code> dictionary that the view template can then access.</p>
<p>Return to the <em>HelloWorldController.cs</em> file and change the <code class="docutils literal"><span class="pre">Welcome</span></code> method to add a <code class="docutils literal"><span class="pre">Message</span></code> and <code class="docutils literal"><span class="pre">NumTimes</span></code> value to the <code class="docutils literal"><span class="pre">ViewData</span></code> dictionary. The <code class="docutils literal"><span class="pre">ViewData</span></code> dictionary is a dynamic object, which means you can put whatever you want in to it; the <code class="docutils literal"><span class="pre">ViewData</span></code> object has no defined properties until you put something inside it. The <a class="reference external" href="http://docs.asp.net/projects/mvc/en/latest/models/index.html">MVC model binding system</a> automatically maps the named parameters (<code class="docutils literal"><span class="pre">name</span></code> and <code class="docutils literal"><span class="pre">numTimes</span></code>) from the query string in the address bar to parameters in your method. The complete <em>HelloWorldController.cs</em> file looks like this:</p>
<div class="highlight-c#"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="nn">Microsoft.AspNetCore.Mvc</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text.Encodings.Web</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">MvcMovie.Controllers</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">HelloWorldController</span> <span class="p">:</span> <span class="n">Controller</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="n">IActionResult</span> <span class="nf">Index</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="nf">View</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="n">IActionResult</span> <span class="nf">Welcome</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">,</span> <span class="kt">int</span> <span class="n">numTimes</span> <span class="p">=</span> <span class="m">1</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">ViewData</span><span class="p">[</span><span class="s">&quot;Message&quot;</span><span class="p">]</span> <span class="p">=</span> <span class="s">&quot;Hello &quot;</span> <span class="p">+</span> <span class="n">name</span><span class="p">;</span>
            <span class="n">ViewData</span><span class="p">[</span><span class="s">&quot;NumTimes&quot;</span><span class="p">]</span> <span class="p">=</span> <span class="n">numTimes</span><span class="p">;</span>

            <span class="k">return</span> <span class="nf">View</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">ViewData</span></code> dictionary object contains data that will be passed to the view. Next, you need a Welcome view template.</p>
<ul class="simple">
<li>Right click on the <em>Views/HelloWorld</em> folder, and then <strong>Add &gt; New Item</strong>.</li>
<li>In the <strong>Add New Item - MvcMovie</strong> dialog<ul>
<li>In the search box in the upper-right, enter <em>view</em></li>
<li>Tap <strong>MVC View Page</strong></li>
<li>In the <strong>Name</strong> box, enter <em>Welcome.cshtml</em></li>
<li>Tap <strong>Add</strong></li>
</ul>
</li>
</ul>
<p>You&#8217;ll create a loop in the <em>Welcome.cshtml</em> view template that displays &#8220;Hello&#8221; <code class="docutils literal"><span class="pre">NumTimes</span></code>. Replace the contents of <em>Views/HelloWorld/Welcome.cshtml</em> with the following:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>@{
    ViewData[&quot;Title&quot;] = &quot;About&quot;;
}

&lt;h2&gt;Welcome&lt;/h2&gt;

&lt;ul&gt;
    @for (int i = 0; i &lt; (int)ViewData[&quot;NumTimes&quot;]; i++)
    {
        &lt;li&gt;@ViewData[&quot;Message&quot;]&lt;/li&gt;
    }
&lt;/ul&gt;
</pre></div>
</div>
<p>Save your changes and browse to the following URL:</p>
<p>http://localhost:xxxx/HelloWorld/Welcome?name=Rick&amp;numtimes=4</p>
<p>Data is taken from the URL and passed to the controller using the <a class="reference external" href="http://docs.asp.net/projects/mvc/en/latest/models/index.html">model binder</a>. The controller packages the data into a <code class="docutils literal"><span class="pre">ViewData</span></code> dictionary and passes that object to the view. The view then renders the data as HTML to the browser.</p>
<img alt="../../_images/rick1.png" src="../../_images/rick1.png" />
<p>In the sample above, we used the <code class="docutils literal"><span class="pre">ViewData</span></code> dictionary to pass data from the controller to a view. Later in the tutorial, we will use a view model to pass data from a controller to a view. The view model approach to passing data is generally much preferred over the <code class="docutils literal"><span class="pre">ViewData</span></code> dictionary approach. See <a class="reference external" href="http://blogs.msdn.com/b/rickandy/archive/2011/01/28/dynamic-v-strongly-typed-views.aspx">Dynamic V Strongly Typed Views</a> for more information.</p>
<p>Well, that was a kind of an &#8220;M&#8221; for model, but not the database kind. Let&#8217;s take what we&#8217;ve learned and create a database of movies.</p>
</div>
</div>



  
  <!-- Helpfulness -->
  <div id="helpful-position"></div>
  <div id="helpful" class="helpfulness-container" style="display:none;">
    <div class="helpfulness">
      <div class="helpfulness-form">
        <h2>Is this page helpful?</h2>
        <a id="helpfulness-btn-yes" href="javascript:;" class="common-btn first">Yes</a>
        <a id="helpfulness-btn-no" href="javascript:;" class="common-btn">No</a>
      </div>
      <div class="helpfulness-form-no" style="display:none;">
        <h2>Is this page helpful?</h2>
        Sorry this wasn't helpful.
        <input type="text" id="txt-helpfulness" placeholder="Please let us know why this wasn't helpful">
        <span id="helpfulness-characters-left">characters remaining</span>
        <a id="helpfulness-btn-submit" href="javascript:;" class="common-btn">Submit</a>
        <a id="helpfulness-btn-skip" href="javascript:;" class="common-btn secondary">Skip this</a>
      </div>
      <a href="javascript:;" class="helpfulness-close">âœ–</a>
      <div class="messages processing" style="display:none;">
        Sending feedback...
      </div>
      <div class="messages success" style="display:none;">
        Thank you for your feedback!
      </div>
      <div class="messages helpfulness-error" style="display:none;">
        Error during submission!
      </div>
    </div>
  </div>
  

  <!-- wedc -->
  <noscript>
    <img alt="" width="1" height="1" src="https://c.microsoft.com/trans_pixel.aspx"/>
  </noscript>

  
    <!-- disqus -->
    <button id="showComments" type="button" class="btn btn-neutral"><i class="fa fa-comment"></i> Show comments</button>
    <div id="disqus_thread"></div>
    <hr/>
  
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="adding-model.html" class="btn btn-neutral float-right" title="Adding a model" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="adding-controller.html" class="btn btn-neutral" title="Adding a controller" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Microsoft.
      Last updated on Jun 21, 2016.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  Documentation licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>.


</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/helpfulness.js?v=6"></script>
      <script type="text/javascript" src="../../_static/disqus.js?v=6"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>