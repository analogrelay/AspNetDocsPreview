

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Request Features &mdash; ASP.NET  documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/custom.css?v=6" type="text/css" />
  

  
    <link rel="top" title="ASP.NET  documentation" href="../index.html"/>
        <link rel="up" title="Fundamentals" href="index.html"/>
        <link rel="next" title="OWIN" href="owin.html"/>
        <link rel="prev" title="Servers" href="servers.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> ASP.NET
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.asp.net/projects/api">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../conceptual-overview/index.html">Conceptual Overview</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Fundamentals</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="startup.html">Application Startup</a></li>
<li class="toctree-l2"><a class="reference internal" href="middleware.html">Middleware</a></li>
<li class="toctree-l2"><a class="reference internal" href="static-files.html">Working with Static Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="routing.html">Routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="diagnostics.html">Diagnostics</a></li>
<li class="toctree-l2"><a class="reference internal" href="error-handling.html">Error Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="localization.html">Globalization and localization</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="logging.html">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="file-providers.html">ðŸ”§ File Providers</a></li>
<li class="toctree-l2"><a class="reference internal" href="dependency-injection.html">Dependency Injection</a></li>
<li class="toctree-l2"><a class="reference internal" href="environments.html">Working with Multiple Environments</a></li>
<li class="toctree-l2"><a class="reference internal" href="app-state.html">Managing Application State</a></li>
<li class="toctree-l2"><a class="reference internal" href="servers.html">Servers</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Request Features</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="owin.html">OWIN</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mvc/index.html">MVC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing/index.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data/index.html">Working with Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../client-side/index.html">Client-Side Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mobile/index.html">Mobile</a></li>
<li class="toctree-l1"><a class="reference internal" href="../publishing/index.html">Publishing and Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hosting/index.html">Guidance for Hosting Providers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security/index.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../performance/index.html">Performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration/index.html">Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/index.html">Contribute</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">ASP.NET</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Fundamentals</a> &raquo;</li>
      
    <li>Request Features</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/fundamentals/request-features.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
  <div class="section" id="request-features">
<h1>Request Features<a class="headerlink" href="#request-features" title="Permalink to this headline">Â¶</a></h1>
<p>By <a class="reference external" href="http://ardalis.com">Steve Smith</a></p>
<p>Individual web server features related to how HTTP requests and responses are handled have been factored into separate interfaces. These abstractions are used by individual server implementations and middleware to create and modify the application&#8217;s hosting pipeline.</p>
<div class="contents local topic" id="sections">
<p class="topic-title first">Sections:</p>
<ul class="simple">
<li><a class="reference internal" href="#feature-interfaces" id="id1">Feature interfaces</a></li>
<li><a class="reference internal" href="#feature-collections" id="id2">Feature collections</a></li>
<li><a class="reference internal" href="#middleware-and-request-features" id="id3">Middleware and request features</a></li>
<li><a class="reference internal" href="#summary" id="id4">Summary</a></li>
<li><a class="reference internal" href="#additional-resources" id="id5">Additional Resources</a></li>
</ul>
</div>
<div class="section" id="feature-interfaces">
<h2><a class="toc-backref" href="#id1">Feature interfaces</a><a class="headerlink" href="#feature-interfaces" title="Permalink to this headline">Â¶</a></h2>
<p>ASP.NET Core defines a number of HTTP feature interfaces in <a class="reference external" href="http://docs.asp.net/projects/api/en/latest/autoapi/Microsoft/AspNetCore/Http/Features/index.html#Microsoft.AspNetCore.Http.Features" title="(in ASP.NET API Reference v)"><code class="xref dn dn-ns docutils literal"><span class="pre">Microsoft.AspNetCore.Http.Features</span></code></a> which are used by servers to identify the features they support. The following feature interfaces handle requests and return responses:</p>
<dl class="docutils">
<dt><a class="reference external" href="http://docs.asp.net/projects/api/en/latest/autoapi/Microsoft/AspNetCore/Http/Features/IHttpRequestFeature/index.html#Microsoft.AspNetCore.Http.Features.IHttpRequestFeature" title="(in ASP.NET API Reference v)"><code class="xref dn dn-iface docutils literal"><span class="pre">IHttpRequestFeature</span></code></a></dt>
<dd>Defines the structure of an HTTP request, including the protocol, path, query string, headers, and body.</dd>
<dt><a class="reference external" href="http://docs.asp.net/projects/api/en/latest/autoapi/Microsoft/AspNetCore/Http/Features/IHttpResponseFeature/index.html#Microsoft.AspNetCore.Http.Features.IHttpResponseFeature" title="(in ASP.NET API Reference v)"><code class="xref dn dn-iface docutils literal"><span class="pre">IHttpResponseFeature</span></code></a></dt>
<dd>Defines the structure of an HTTP response, including the status code, headers, and body of the response.</dd>
<dt><a class="reference external" href="http://docs.asp.net/projects/api/en/latest/autoapi/Microsoft/AspNetCore/Http/Features/Authentication/IHttpAuthenticationFeature/index.html#Microsoft.AspNetCore.Http.Features.Authentication.IHttpAuthenticationFeature" title="(in ASP.NET API Reference v)"><code class="xref dn dn-iface docutils literal"><span class="pre">IHttpAuthenticationFeature</span></code></a></dt>
<dd>Defines support for identifying users based on a <code class="docutils literal"><span class="pre">ClaimsPrincipal</span></code> and specifying an authentication handler.</dd>
<dt><a class="reference external" href="http://docs.asp.net/projects/api/en/latest/autoapi/Microsoft/AspNetCore/Http/Features/IHttpUpgradeFeature/index.html#Microsoft.AspNetCore.Http.Features.IHttpUpgradeFeature" title="(in ASP.NET API Reference v)"><code class="xref dn dn-iface docutils literal"><span class="pre">IHttpUpgradeFeature</span></code></a></dt>
<dd>Defines support for <span class="target" id="index-0"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2616.html#section-14.42"><strong>HTTP Upgrades</strong></a>, which allow the client to specify which additional protocols it would like to use if the server wishes to switch protocols.</dd>
<dt><a class="reference external" href="http://docs.asp.net/projects/api/en/latest/autoapi/Microsoft/AspNetCore/Http/Features/IHttpBufferingFeature/index.html#Microsoft.AspNetCore.Http.Features.IHttpBufferingFeature" title="(in ASP.NET API Reference v)"><code class="xref dn dn-iface docutils literal"><span class="pre">IHttpBufferingFeature</span></code></a></dt>
<dd>Defines methods for disabling buffering of requests and/or responses.</dd>
<dt><a class="reference external" href="http://docs.asp.net/projects/api/en/latest/autoapi/Microsoft/AspNetCore/Http/Features/IHttpConnectionFeature/index.html#Microsoft.AspNetCore.Http.Features.IHttpConnectionFeature" title="(in ASP.NET API Reference v)"><code class="xref dn dn-iface docutils literal"><span class="pre">IHttpConnectionFeature</span></code></a></dt>
<dd>Defines properties for local and remote addresses and ports.</dd>
<dt><a class="reference external" href="http://docs.asp.net/projects/api/en/latest/autoapi/Microsoft/AspNetCore/Http/Features/IHttpRequestLifetimeFeature/index.html#Microsoft.AspNetCore.Http.Features.IHttpRequestLifetimeFeature" title="(in ASP.NET API Reference v)"><code class="xref dn dn-iface docutils literal"><span class="pre">IHttpRequestLifetimeFeature</span></code></a></dt>
<dd>Defines support for aborting connections, or detecting if a request has been terminated prematurely, such as by a client disconnect.</dd>
<dt><a class="reference external" href="http://docs.asp.net/projects/api/en/latest/autoapi/Microsoft/AspNetCore/Http/Features/IHttpSendFileFeature/index.html#Microsoft.AspNetCore.Http.Features.IHttpSendFileFeature" title="(in ASP.NET API Reference v)"><code class="xref dn dn-iface docutils literal"><span class="pre">IHttpSendFileFeature</span></code></a></dt>
<dd>Defines a method for sending files asynchronously.</dd>
<dt><a class="reference external" href="http://docs.asp.net/projects/api/en/latest/autoapi/Microsoft/AspNetCore/Http/Features/IHttpWebSocketFeature/index.html#Microsoft.AspNetCore.Http.Features.IHttpWebSocketFeature" title="(in ASP.NET API Reference v)"><code class="xref dn dn-iface docutils literal"><span class="pre">IHttpWebSocketFeature</span></code></a></dt>
<dd>Defines an API for supporting web sockets.</dd>
<dt><a class="reference external" href="http://docs.asp.net/projects/api/en/latest/autoapi/Microsoft/AspNetCore/Http/Features/IHttpRequestIdentifierFeature/index.html#Microsoft.AspNetCore.Http.Features.IHttpRequestIdentifierFeature" title="(in ASP.NET API Reference v)"><code class="xref dn dn-iface docutils literal"><span class="pre">IHttpRequestIdentifierFeature</span></code></a></dt>
<dd>Adds a property that can be implemented to uniquely identify requests.</dd>
<dt><a class="reference external" href="http://docs.asp.net/projects/api/en/latest/autoapi/Microsoft/AspNetCore/Http/Features/ISessionFeature/index.html#Microsoft.AspNetCore.Http.Features.ISessionFeature" title="(in ASP.NET API Reference v)"><code class="xref dn dn-iface docutils literal"><span class="pre">ISessionFeature</span></code></a></dt>
<dd>Defines <code class="docutils literal"><span class="pre">ISessionFactory</span></code> and <code class="docutils literal"><span class="pre">ISession</span></code> abstractions for supporting user sessions.</dd>
<dt><a class="reference external" href="http://docs.asp.net/projects/api/en/latest/autoapi/Microsoft/AspNetCore/Http/Features/ITlsConnectionFeature/index.html#Microsoft.AspNetCore.Http.Features.ITlsConnectionFeature" title="(in ASP.NET API Reference v)"><code class="xref dn dn-iface docutils literal"><span class="pre">ITlsConnectionFeature</span></code></a></dt>
<dd>Defines an API for retrieving client certificates.</dd>
<dt><a class="reference external" href="http://docs.asp.net/projects/api/en/latest/autoapi/Microsoft/AspNetCore/Http/Features/ITlsTokenBindingFeature/index.html#Microsoft.AspNetCore.Http.Features.ITlsTokenBindingFeature" title="(in ASP.NET API Reference v)"><code class="xref dn dn-iface docutils literal"><span class="pre">ITlsTokenBindingFeature</span></code></a></dt>
<dd>Defines methods for working with TLS token binding parameters.</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><a class="reference external" href="http://docs.asp.net/projects/api/en/latest/autoapi/Microsoft/AspNetCore/Http/Features/ISessionFeature/index.html#Microsoft.AspNetCore.Http.Features.ISessionFeature" title="(in ASP.NET API Reference v)"><code class="xref dn dn-iface docutils literal"><span class="pre">ISessionFeature</span></code></a> is not a server feature, but is implemented by the <a class="reference external" href="http://docs.asp.net/projects/api/en/latest/autoapi/Microsoft/AspNetCore/Session/SessionMiddleware/index.html#Microsoft.AspNetCore.Session.SessionMiddleware" title="(in ASP.NET API Reference v)"><code class="xref dn dn-cls docutils literal"><span class="pre">SessionMiddleware</span></code></a> (see <a class="reference internal" href="app-state.html"><span class="doc">Managing Application State</span></a>).</p>
</div>
</div>
<div class="section" id="feature-collections">
<h2><a class="toc-backref" href="#id2">Feature collections</a><a class="headerlink" href="#feature-collections" title="Permalink to this headline">Â¶</a></h2>
<p>The <a class="reference external" href="http://docs.asp.net/projects/api/en/latest/autoapi/Microsoft/AspNetCore/Http/HttpContext/index.html#Microsoft.AspNetCore.Http.HttpContext.Features" title="(in ASP.NET API Reference v)"><code class="xref dn dn-prop docutils literal"><span class="pre">Features</span></code></a> property of <a class="reference external" href="http://docs.asp.net/projects/api/en/latest/autoapi/Microsoft/AspNetCore/Http/HttpContext/index.html#Microsoft.AspNetCore.Http.HttpContext" title="(in ASP.NET API Reference v)"><code class="xref dn dn-cls docutils literal"><span class="pre">HttpContext</span></code></a> provides an interface for getting and setting the available HTTP features for the current request. Since the feature collection is mutable even within the context of a request, middleware can be used to modify the collection and add support for additional features.</p>
</div>
<div class="section" id="middleware-and-request-features">
<h2><a class="toc-backref" href="#id3">Middleware and request features</a><a class="headerlink" href="#middleware-and-request-features" title="Permalink to this headline">Â¶</a></h2>
<p>While servers are responsible for creating the feature collection, middleware can both add to this collection and consume features from the collection. For example, the <a class="reference external" href="http://docs.asp.net/projects/api/en/latest/autoapi/Microsoft/AspNetCore/StaticFiles/StaticFileMiddleware/index.html#Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware" title="(in ASP.NET API Reference v)"><code class="xref dn dn-cls docutils literal"><span class="pre">StaticFileMiddleware</span></code></a> accesses the <a class="reference external" href="http://docs.asp.net/projects/api/en/latest/autoapi/Microsoft/AspNetCore/Http/Features/IHttpSendFileFeature/index.html#Microsoft.AspNetCore.Http.Features.IHttpSendFileFeature" title="(in ASP.NET API Reference v)"><code class="xref dn dn-iface docutils literal"><span class="pre">IHttpSendFileFeature</span></code></a> feature. If the feature exists, it is used to send the requested static file from its physical path. Otherwise, a slower alternative method is used to send the file. When available, the <a class="reference external" href="http://docs.asp.net/projects/api/en/latest/autoapi/Microsoft/AspNetCore/Http/Features/IHttpSendFileFeature/index.html#Microsoft.AspNetCore.Http.Features.IHttpSendFileFeature" title="(in ASP.NET API Reference v)"><code class="xref dn dn-iface docutils literal"><span class="pre">IHttpSendFileFeature</span></code></a> allows the operating system to open the file and perform a direct kernel mode copy to the network card.</p>
<p>Additionally, middleware can add to the feature collection established by the server. Existing features can even be replaced by middleware, allowing the middleware to augment the functionality of the server. Features added to the collection are available immediately to other middleware or the underlying application itself later in the request pipeline.</p>
<p>By combining custom server implementations and specific middleware enhancements, the precise set of features an application requires can be constructed. This allows missing features to be added without requiring a change in server, and ensures only the minimal amount of features are exposed, thus limiting attack surface area and improving performance.</p>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id4">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">Â¶</a></h2>
<p>Feature interfaces define specific HTTP features that a given request may support. Servers define collections of features, and the initial set of features supported by that server, but middleware can be used to enhance these features.</p>
</div>
<div class="section" id="additional-resources">
<h2><a class="toc-backref" href="#id5">Additional Resources</a><a class="headerlink" href="#additional-resources" title="Permalink to this headline">Â¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="servers.html"><span class="doc">Servers</span></a></li>
<li><a class="reference internal" href="middleware.html"><span class="doc">Middleware</span></a></li>
<li><a class="reference internal" href="owin.html"><span class="doc">OWIN</span></a></li>
</ul>
</div>
</div>



  
  <!-- Helpfulness -->
  <div id="helpful-position"></div>
  <div id="helpful" class="helpfulness-container" style="display:none;">
    <div class="helpfulness">
      <div class="helpfulness-form">
        <h2>Is this page helpful?</h2>
        <a id="helpfulness-btn-yes" href="javascript:;" class="common-btn first">Yes</a>
        <a id="helpfulness-btn-no" href="javascript:;" class="common-btn">No</a>
      </div>
      <div class="helpfulness-form-no" style="display:none;">
        <h2>Is this page helpful?</h2>
        Sorry this wasn't helpful.
        <input type="text" id="txt-helpfulness" placeholder="Please let us know why this wasn't helpful">
        <span id="helpfulness-characters-left">characters remaining</span>
        <a id="helpfulness-btn-submit" href="javascript:;" class="common-btn">Submit</a>
        <a id="helpfulness-btn-skip" href="javascript:;" class="common-btn secondary">Skip this</a>
      </div>
      <a href="javascript:;" class="helpfulness-close">âœ–</a>
      <div class="messages processing" style="display:none;">
        Sending feedback...
      </div>
      <div class="messages success" style="display:none;">
        Thank you for your feedback!
      </div>
      <div class="messages helpfulness-error" style="display:none;">
        Error during submission!
      </div>
    </div>
  </div>
  

  <!-- wedc -->
  <noscript>
    <img alt="" width="1" height="1" src="https://c.microsoft.com/trans_pixel.aspx"/>
  </noscript>

  
    <!-- disqus -->
    <button id="showComments" type="button" class="btn btn-neutral"><i class="fa fa-comment"></i> Show comments</button>
    <div id="disqus_thread"></div>
    <hr/>
  
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="owin.html" class="btn btn-neutral float-right" title="OWIN" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="servers.html" class="btn btn-neutral" title="Servers" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Microsoft.
      Last updated on Jun 21, 2016.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  Documentation licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>.


</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/helpfulness.js?v=6"></script>
      <script type="text/javascript" src="../_static/disqus.js?v=6"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>