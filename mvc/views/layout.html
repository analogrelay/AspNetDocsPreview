

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Layout &mdash; ASP.NET  documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/custom.css?v=6" type="text/css" />
  

  
    <link rel="top" title="ASP.NET  documentation" href="../../index.html"/>
        <link rel="up" title="Views" href="index.html"/>
        <link rel="next" title="ðŸ”§ Dynamic vs Strongly Typed Views" href="dynamic-vs-static.html"/>
        <link rel="prev" title="ðŸ”§ Razor Syntax" href="razor.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> ASP.NET
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.asp.net/projects/api">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../conceptual-overview/index.html">Conceptual Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fundamentals/index.html">Fundamentals</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">MVC</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../overview.html">ðŸ”§ Overview of ASP.NET MVC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../models/index.html">Models</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Views</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="razor.html">ðŸ”§ Razor Syntax</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Layout</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="dynamic-vs-static.html">ðŸ”§ Dynamic vs Strongly Typed Views</a></li>
<li class="toctree-l3"><a class="reference internal" href="working-with-forms.html">Working with Forms</a></li>
<li class="toctree-l3"><a class="reference internal" href="html-helpers.html">ðŸ”§ HTML Helpers</a></li>
<li class="toctree-l3"><a class="reference internal" href="tag-helpers/index.html">Tag Helpers</a></li>
<li class="toctree-l3"><a class="reference internal" href="partial.html">Partial Views</a></li>
<li class="toctree-l3"><a class="reference internal" href="dependency-injection.html">Injecting Services Into Views</a></li>
<li class="toctree-l3"><a class="reference internal" href="view-components.html">View Components</a></li>
<li class="toctree-l3"><a class="reference internal" href="custom-view-engine.html">ðŸ”§ Creating a Custom View Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="mobile.html">ðŸ”§ Building Mobile Specific Views</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../controllers/index.html">Controllers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../testing/index.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../data/index.html">Working with Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../client-side/index.html">Client-Side Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mobile/index.html">Mobile</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../publishing/index.html">Publishing and Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hosting/index.html">Guidance for Hosting Providers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security/index.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../performance/index.html">Performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../migration/index.html">Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">Contribute</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">ASP.NET</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">MVC</a> &raquo;</li>
      
          <li><a href="index.html">Views</a> &raquo;</li>
      
    <li>Layout</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/mvc/views/layout.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
  <div class="section" id="layout">
<h1>Layout<a class="headerlink" href="#layout" title="Permalink to this headline">Â¶</a></h1>
<p>By <a class="reference external" href="http://ardalis.com">Steve Smith</a></p>
<p>Views frequently share visual and programmatic elements. In this article, you&#8217;ll learn how to use common layouts, share directives, and run common code before rendering views in your ASP.NET app.</p>
<div class="contents local topic" id="sections">
<p class="topic-title first">Sections</p>
<ul class="simple">
<li><a class="reference internal" href="#what-is-a-layout" id="id2">What is a Layout</a></li>
<li><a class="reference internal" href="#specifying-a-layout" id="id3">Specifying a Layout</a></li>
<li><a class="reference internal" href="#importing-shared-directives" id="id4">Importing Shared Directives</a></li>
<li><a class="reference internal" href="#running-code-before-each-view" id="id5">Running Code Before Each View</a></li>
</ul>
</div>
<div class="section" id="what-is-a-layout">
<h2><a class="toc-backref" href="#id2">What is a Layout</a><a class="headerlink" href="#what-is-a-layout" title="Permalink to this headline">Â¶</a></h2>
<p>Most web apps have a common layout that provides the user with a consistent experience as they navigate from page to page. The layout typically includes common user interface elements such as the app header, navigation or menu elements, and footer.</p>
<img alt="../../_images/page-layout.png" src="../../_images/page-layout.png" />
<p>Common HTML structures such as scripts and stylesheets are also frequently used by many pages within an app. All of these shared elements may be defined in a <em>layout</em> file, which can then be referenced by any view used within the app. Layouts reduce duplicate code in views, helping them follow the <a class="reference external" href="http://deviq.com/don-t-repeat-yourself/">Don&#8217;t Repeat Yourself (DRY) principle</a>.</p>
<p>By convention, the default layout for an ASP.NET app is named <code class="docutils literal"><span class="pre">_Layout.cshtml</span></code>. The Visual Studio ASP.NET MVC project template includes this layout file in the <code class="docutils literal"><span class="pre">Views/Shared</span></code> folder:</p>
<img alt="../../_images/web-project-views.png" src="../../_images/web-project-views.png" />
<p>This layout defines a top level template for views in the app. Apps do not require a layout, and apps can define more than one layout, with different views specifying different layouts.</p>
<p>An example <code class="docutils literal"><span class="pre">_Layout.cshtml</span></code>:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&quot;utf-8&quot;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;width=device-width, initial-scale=1.0&quot;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>@ViewData[&quot;Title&quot;] - WebApplication1<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">environment</span> <span class="na">names</span><span class="o">=</span><span class="s">&quot;Development&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;~/lib/bootstrap/dist/css/bootstrap.css&quot;</span> <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;~/css/site.css&quot;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nt">environment</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">environment</span> <span class="na">names</span><span class="o">=</span><span class="s">&quot;Staging,Production&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;https://ajax.aspnetcdn.com/ajax/bootstrap/3.3.6/css/bootstrap.min.css&quot;</span>
              <span class="na">asp-fallback-href</span><span class="o">=</span><span class="s">&quot;~/lib/bootstrap/dist/css/bootstrap.min.css&quot;</span>
              <span class="na">asp-fallback-test-class</span><span class="o">=</span><span class="s">&quot;sr-only&quot;</span> <span class="na">asp-fallback-test-property</span><span class="o">=</span><span class="s">&quot;position&quot;</span> <span class="na">asp-fallback-test-value</span><span class="o">=</span><span class="s">&quot;absolute&quot;</span> <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;~/css/site.min.css&quot;</span> <span class="na">asp-append-version</span><span class="o">=</span><span class="s">&quot;true&quot;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nt">environment</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;navbar navbar-inverse navbar-fixed-top&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;container&quot;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;navbar-header&quot;</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;button&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;navbar-toggle&quot;</span> <span class="na">data-toggle</span><span class="o">=</span><span class="s">&quot;collapse&quot;</span> <span class="na">data-target</span><span class="o">=</span><span class="s">&quot;.navbar-collapse&quot;</span><span class="p">&gt;</span>
                    <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;sr-only&quot;</span><span class="p">&gt;</span>Toggle navigation<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
                    <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;icon-bar&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
                    <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;icon-bar&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
                    <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;icon-bar&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
                <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">a</span> <span class="na">asp-controller</span><span class="o">=</span><span class="s">&quot;Home&quot;</span> <span class="na">asp-action</span><span class="o">=</span><span class="s">&quot;Index&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;navbar-brand&quot;</span><span class="p">&gt;</span>WebApplication1<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;navbar-collapse collapse&quot;</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">ul</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;nav navbar-nav&quot;</span><span class="p">&gt;</span>
                    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">asp-controller</span><span class="o">=</span><span class="s">&quot;Home&quot;</span> <span class="na">asp-action</span><span class="o">=</span><span class="s">&quot;Index&quot;</span><span class="p">&gt;</span>Home<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
                    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">asp-controller</span><span class="o">=</span><span class="s">&quot;Home&quot;</span> <span class="na">asp-action</span><span class="o">=</span><span class="s">&quot;About&quot;</span><span class="p">&gt;</span>About<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
                    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">asp-controller</span><span class="o">=</span><span class="s">&quot;Home&quot;</span> <span class="na">asp-action</span><span class="o">=</span><span class="s">&quot;Contact&quot;</span><span class="p">&gt;</span>Contact<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
                <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
                @await Html.PartialAsync(&quot;_LoginPartial&quot;)
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;container body-content&quot;</span><span class="p">&gt;</span>
<span class="hll">        @RenderBody()
</span>        <span class="p">&lt;</span><span class="nt">hr</span> <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nt">footer</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="ni">&amp;copy;</span> 2016 - WebApplication1<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">footer</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">environment</span> <span class="na">names</span><span class="o">=</span><span class="s">&quot;Development&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;~/lib/jquery/dist/jquery.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;~/lib/bootstrap/dist/js/bootstrap.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;~/js/site.js&quot;</span> <span class="na">asp-append-version</span><span class="o">=</span><span class="s">&quot;true&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">environment</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">environment</span> <span class="na">names</span><span class="o">=</span><span class="s">&quot;Staging,Production&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://ajax.aspnetcdn.com/ajax/jquery/jquery-2.2.0.min.js&quot;</span>
                <span class="na">asp-fallback-src</span><span class="o">=</span><span class="s">&quot;~/lib/jquery/dist/jquery.min.js&quot;</span>
                <span class="na">asp-fallback-test</span><span class="o">=</span><span class="s">&quot;window.jQuery&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://ajax.aspnetcdn.com/ajax/bootstrap/3.3.6/bootstrap.min.js&quot;</span>
                <span class="na">asp-fallback-src</span><span class="o">=</span><span class="s">&quot;~/lib/bootstrap/dist/js/bootstrap.min.js&quot;</span>
                <span class="na">asp-fallback-test</span><span class="o">=</span><span class="s">&quot;window.jQuery &amp;&amp; window.jQuery.fn &amp;&amp; window.jQuery.fn.modal&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;~/js/site.min.js&quot;</span> <span class="na">asp-append-version</span><span class="o">=</span><span class="s">&quot;true&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">environment</span><span class="p">&gt;</span>

<span class="hll">    @RenderSection(&quot;scripts&quot;, required: false)
</span><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="specifying-a-layout">
<h2><a class="toc-backref" href="#id3">Specifying a Layout</a><a class="headerlink" href="#specifying-a-layout" title="Permalink to this headline">Â¶</a></h2>
<p>Razor views have a <code class="docutils literal"><span class="pre">Layout</span></code> property. Individual views specify a layout by defining this property:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span>@{
<span class="hll">    Layout = &quot;_Layout&quot;;
</span>}
</pre></div>
</div>
<p>The layout specified can use a full path (example: <code class="docutils literal"><span class="pre">/Views/Shared/_Layout.cshtml</span></code>) or a partial name (example: <code class="docutils literal"><span class="pre">_Layout</span></code>). When a partial name is provided, the Razor view engine will search for the layout file using its standard discovery process. The controller-associated folder is searched first, followed by the <code class="docutils literal"><span class="pre">Shared</span></code> folder. This discovery process is identical to the one used to discover <a class="reference internal" href="partial.html"><span class="doc">partial views</span></a>.</p>
<p>Every layout must call <code class="docutils literal"><span class="pre">RenderBody</span></code>. Wherever the call to <code class="docutils literal"><span class="pre">RenderBody</span></code> is placed, the contents of the view will be rendered.</p>
<div class="section" id="id1">
<h3>Sections<a class="headerlink" href="#id1" title="Permalink to this headline">Â¶</a></h3>
<p>A layout can optionally reference one or more <em>sections</em>, by calling <code class="docutils literal"><span class="pre">RenderSection</span></code>. Sections provide a way to organize where certain page elements should be placed. Each call to <code class="docutils literal"><span class="pre">RenderSection</span></code> can specify whether that section is required or optional. Individual views specify the content to be rendered within a section using the <code class="docutils literal"><span class="pre">&#64;section</span></code> Razor syntax. If a view defines a section, it must be rendered (or an error will occur).</p>
<p>An example <code class="docutils literal"><span class="pre">&#64;section</span></code> definition in a view:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span>@section Scripts {
  <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;/scripts/main.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
}
</pre></div>
</div>
<p>In the code above, validation scripts are added to the <code class="docutils literal"><span class="pre">scripts</span></code> section on a view that includes a form. Other views in the same application might not require any additional scripts, and so wouldn&#8217;t need to define a scripts section.</p>
<p>Sections only flow from views. They cannot be referenced from partials, view components, or other parts of the view system.</p>
</div>
</div>
<div class="section" id="importing-shared-directives">
<span id="viewimports"></span><h2><a class="toc-backref" href="#id4">Importing Shared Directives</a><a class="headerlink" href="#importing-shared-directives" title="Permalink to this headline">Â¶</a></h2>
<p>Views can use Razor directives to do many things, such as specifying namespaces or performing <a class="reference internal" href="dependency-injection.html"><span class="doc">dependency injection</span></a>. Directives used by many views may be specified in a <code class="docutils literal"><span class="pre">_ViewImports.cshtml</span></code> file.  The <code class="docutils literal"><span class="pre">_ViewImports</span></code> file supports the following directives:</p>
<ul class="simple">
<li>addTagHelper</li>
<li>removeTagHelper</li>
<li>tagHelperPrefix</li>
<li>using</li>
<li>model</li>
<li>inherits</li>
<li>inject</li>
</ul>
<p>The file does not support other Razor features, such as functions and section definitions.</p>
<p>A sample <code class="docutils literal"><span class="pre">_ViewImports.cshtml</span></code> file:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span>@using WebApplication1
@using WebApplication1.Models
@using WebApplication1.Models.AccountViewModels
@using WebApplication1.Models.ManageViewModels
@using Microsoft.AspNetCore.Identity
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">_ViewImports.cshtml</span></code> file for an ASP.NET Core MVC app is typically placed in the <code class="docutils literal"><span class="pre">Views</span></code> folder root. A <code class="docutils literal"><span class="pre">_ViewImports.cshtml</span></code> file can be placed within a controller-associated view folder, in which case it will only be applied to views within that folder. <code class="docutils literal"><span class="pre">_ViewImports</span></code> files are run first at the root level, and then for a <code class="docutils literal"><span class="pre">_ViewImports</span></code> file specified in the controller-associated folder, so settings specified at the root level may be overridden at the folder level.</p>
<p>For example, if a root level <code class="docutils literal"><span class="pre">_ViewImports.cshtml</span></code> file specifies <code class="docutils literal"><span class="pre">&#64;model</span></code> and <code class="docutils literal"><span class="pre">&#64;addTagHelper</span></code>, and another <code class="docutils literal"><span class="pre">_ViewImports.cshtml</span></code> file in the controller-associated folder of the view specifies a different <code class="docutils literal"><span class="pre">&#64;model</span></code> and adds another <code class="docutils literal"><span class="pre">&#64;addTagHelper</span></code>, the view will have access to both tag helpers and will use the latter <code class="docutils literal"><span class="pre">&#64;model</span></code>.</p>
<p>If multiple <code class="docutils literal"><span class="pre">_ViewImports.cshtml</span></code> files are run for a view, combined behavior of the directives included in the <code class="docutils literal"><span class="pre">ViewImports.cshtml</span></code> files will be as follows:</p>
<ul class="simple">
<li>addTagHelper, remoteTagHelper: all run, in order</li>
<li>tagHelperPrefix: the closest one to the view overrides any others</li>
<li>model: the closest one to the view overrides any others</li>
<li>inherits: the closest one to the view overrides any others</li>
<li>using: all are included; duplicates are ignored</li>
<li>inject: for each property, the closest one to the view overrides any others with the same property name</li>
</ul>
</div>
<div class="section" id="running-code-before-each-view">
<span id="viewstart"></span><h2><a class="toc-backref" href="#id5">Running Code Before Each View</a><a class="headerlink" href="#running-code-before-each-view" title="Permalink to this headline">Â¶</a></h2>
<p>If you have code you need to run before every view, this should be placed in the <code class="docutils literal"><span class="pre">_ViewStart.cshtml</span></code> file. By convention, the <code class="docutils literal"><span class="pre">_ViewStart.cshtml</span></code> file is located in the root of the <code class="docutils literal"><span class="pre">Views</span></code> folder. The statements listed in <code class="docutils literal"><span class="pre">_ViewStart.cshtml</span></code> are run before every full view (not layouts, and not partial views). Like <a class="reference internal" href="#viewimports"><span class="std std-ref">ViewImports.cshtml</span></a>, <code class="docutils literal"><span class="pre">_ViewStart.cshtml</span></code> is hierarchical. If a <code class="docutils literal"><span class="pre">_ViewStart.cshtml</span></code> file is defined in the controller-associated view folder, it will be run after the one defined in the root of the <code class="docutils literal"><span class="pre">Views</span></code> folder (if any).</p>
<p>A sample <code class="docutils literal"><span class="pre">_ViewStart.cshtml</span></code> file:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span>@{
    Layout = &quot;_Layout&quot;;
}
</pre></div>
</div>
<p>The file above specifies that all views will use the <code class="docutils literal"><span class="pre">_Layout.cshtml</span></code> layout.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Neither <code class="docutils literal"><span class="pre">_ViewStart.cshtml</span></code> nor <code class="docutils literal"><span class="pre">_ViewImports.cshtml</span></code> are placed in the <code class="docutils literal"><span class="pre">/Views/Shared</span></code> folder. The app-level versions of these files should be placed directly in the <code class="docutils literal"><span class="pre">/Views</span></code> folder.</p>
</div>
</div>
</div>



  
  <!-- Helpfulness -->
  <div id="helpful-position"></div>
  <div id="helpful" class="helpfulness-container" style="display:none;">
    <div class="helpfulness">
      <div class="helpfulness-form">
        <h2>Is this page helpful?</h2>
        <a id="helpfulness-btn-yes" href="javascript:;" class="common-btn first">Yes</a>
        <a id="helpfulness-btn-no" href="javascript:;" class="common-btn">No</a>
      </div>
      <div class="helpfulness-form-no" style="display:none;">
        <h2>Is this page helpful?</h2>
        Sorry this wasn't helpful.
        <input type="text" id="txt-helpfulness" placeholder="Please let us know why this wasn't helpful">
        <span id="helpfulness-characters-left">characters remaining</span>
        <a id="helpfulness-btn-submit" href="javascript:;" class="common-btn">Submit</a>
        <a id="helpfulness-btn-skip" href="javascript:;" class="common-btn secondary">Skip this</a>
      </div>
      <a href="javascript:;" class="helpfulness-close">âœ–</a>
      <div class="messages processing" style="display:none;">
        Sending feedback...
      </div>
      <div class="messages success" style="display:none;">
        Thank you for your feedback!
      </div>
      <div class="messages helpfulness-error" style="display:none;">
        Error during submission!
      </div>
    </div>
  </div>
  

  <!-- wedc -->
  <noscript>
    <img alt="" width="1" height="1" src="https://c.microsoft.com/trans_pixel.aspx"/>
  </noscript>

  
    <!-- disqus -->
    <button id="showComments" type="button" class="btn btn-neutral"><i class="fa fa-comment"></i> Show comments</button>
    <div id="disqus_thread"></div>
    <hr/>
  
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="dynamic-vs-static.html" class="btn btn-neutral float-right" title="ðŸ”§ Dynamic vs Strongly Typed Views" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="razor.html" class="btn btn-neutral" title="ðŸ”§ Razor Syntax" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Microsoft.
      Last updated on Jun 21, 2016.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  Documentation licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>.


</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/helpfulness.js?v=6"></script>
      <script type="text/javascript" src="../../_static/disqus.js?v=6"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>